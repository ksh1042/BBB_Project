<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="BoardNotice">
   
   <insert id="insertBoard">
   		insert into tbl_board(bnum,pjnum,title,content,writer,kind)
		values(#{bNum},#{pjNum},#{title},#{content},#{writer},0)  	
   </insert>
   
   <insert id="insertBoardNotice">
   		insert into tbl_board_notice(bnum,noticedate)
		values(#{bNum},#{noticeDate})  	
   </insert>
   
   <select id="selectBoardNoticebNum" resultType="int">
   	select bnum_seq.nextval
   	from dual
   </select>
   
   <update id="updateBoard">
   		update tbl_board
   		set title=#{title},content=#{content}
   		where bnum=#{bNum}
   </update>

   <update id="deleteBoardNotice">
   	delete from tbl_board_notice
   	where bnum=#{bNum}
   </update>
   
   <update id="deleteBoard">
   	delete from tbl_board
   	where bnum=#{bNum}
   </update>
   
    <select id="selectBoardByBnum" resultType="board">
   	select *
   	from tbl_board
   	where bnum=#{bNum}
   </select>
   
   <select id="selectBoardNoticeByBnum" resultType="boardnotice">
   	select *
   	from tbl_board_notice
   	where bnum=#{bNum}
   </select>
   
    <select id="selectSearchBoardList" resultType="board">
   	select *
   	from tbl_board
   	where kind = 0
   	and pjnum=${pjNum}
   </select>
   
   <select id="selectSearchBoardNoticeList" resultType="boardnotice">
   	select *
   	from tbl_board_notice
   	order by noticedate desc
   </select>
   
   <select id="selectSearchBoardCount" resultType="int">
   		select count(*)
   		from tbl_board
   		where pjnum=${pjNum}
   </select>
   
   <select id="selectSearchBoardNoticeCount" resultType="int">
   		select count(*)
   		from tbl_board_notice
   </select>
   
    <select id="selectBoardAll" resultType="board">
   	select *
   	from tbl_board
   	order by bnum desc
   </select>
   
   <select id="selectBoardNoticeAll" resultType="boardnotice">
   	select *
   	from tbl_board_notice
   	order by noticeDate desc
   </select>
   

</mapper>






   